FROM ubuntu:22.04

ENV DEBIAN_FRONTEND=noninteractive

# --- üü¢ ‡∏Å‡∏≥‡∏´‡∏ô‡∏î‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏ó‡∏µ‡πà‡∏ô‡∏µ‡πà (‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏Ñ‡πà‡∏≤‡πÑ‡∏î‡πâ‡∏ï‡∏≤‡∏°‡πÉ‡∏à‡∏ä‡∏≠‡∏ö) ---
# ENV JUPYTER_TOKEN="mysecretpassword"
# ENV JUPYTER_WORKDIR="/home/myproject"

# ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÇ‡∏ü‡∏•‡πÄ‡∏î‡∏≠‡∏£‡πå‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ó‡∏≥‡∏á‡∏≤‡∏ô (‡∏ï‡∏≤‡∏°‡∏ï‡∏±‡∏ß‡πÅ‡∏õ‡∏£‡∏ó‡∏µ‡πà‡∏ï‡∏±‡πâ‡∏á‡πÑ‡∏ß‡πâ)
# WORKDIR ${JUPYTER_WORKDIR}

# Copy ‡πÑ‡∏ü‡∏•‡πå
COPY requirements_python.txt .
COPY requirements_java.txt .
COPY install_jupyter.sh /usr/local/bin/install_jupyter.sh

# ‡∏£‡∏±‡∏ô Script (Script ‡∏à‡∏∞‡∏î‡∏∂‡∏á‡∏Ñ‡πà‡∏≤ ENV ‡∏Ç‡πâ‡∏≤‡∏á‡∏ö‡∏ô‡πÑ‡∏õ‡πÉ‡∏ä‡πâ‡πÄ‡∏≠‡∏á)
RUN chmod +x /usr/local/bin/install_jupyter.sh && \
    /usr/local/bin/install_jupyter.sh

EXPOSE 8888

# ‡πÉ‡∏ä‡πâ Config ‡∏ó‡∏µ‡πà Script ‡∏™‡∏£‡πâ‡∏≤‡∏á‡πÑ‡∏ß‡πâ
CMD ["jupyter", "lab", "--allow-root", "--config=/root/.jupyter/jupyter_lab_config.py"]